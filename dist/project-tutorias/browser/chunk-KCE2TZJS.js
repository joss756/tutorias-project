import{a as F,b as R,c as V,d as O,e as L,f as D,k as T,m as Z}from"./chunk-7FHZTGIO.js";import{$ as l,D as u,E as f,Fa as K,Ga as j,Ia as Q,Ma as U,O as m,Qa as X,S as p,Sa as w,T as M,Ta as Y,U as C,Ua as z,X as g,da as r,ea as a,ia as h,ka as S,la as _,ma as y,na as o,oa as N,pa as B,ra as I,sa as x,ta as E,va as J,w as H,x as v,z as $}from"./chunk-PBJI7WEI.js";var c=class i{constructor(e){this.http=e}api="http://localhost:3000/api/materias";listar(){return this.http.get(this.api)}crear(e){return this.http.post(this.api,e)}obtener(e){return this.http.get(`${this.api}/${e}`)}actualizar(e){return this.http.put(`${this.api}/${e.id}`,e)}eliminar(e){return this.http.delete(`${this.api}/${e}`)}static \u0275fac=function(t){return new(t||i)($(U))};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})};var ae=i=>["editar",i];function oe(i,e){if(i&1&&(r(0,"li"),o(1),r(2,"a",2),o(3,"\u270F\uFE0F"),a()()),i&2){let t=e.$implicit;m(),B(" ",t.nombre," "),m(),l("routerLink",J(2,ae,t.id))}}var k=class i{constructor(e){this.svc=e}materias=[];ngOnInit(){this.svc.listar().subscribe({next:e=>this.materias=e,error:e=>console.error("Error al listar materias",e)})}static \u0275fac=function(t){return new(t||i)(p(c))};static \u0275cmp=M({type:i,selectors:[["app-listar-materias"]],standalone:!1,decls:6,vars:1,consts:[["routerLink","crear"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,n){t&1&&(r(0,"h2"),o(1,"Lista de Materias"),a(),r(2,"a",0),o(3,"\u2795 Nueva Materia"),a(),r(4,"ul"),g(5,oe,4,4,"li",1),a()),t&2&&(m(5),l("ngForOf",n.materias))},dependencies:[K,Y],encapsulation:2})};function me(i,e){if(i&1&&(r(0,"p"),o(1),a()),i&2){let t=_();m(),N(t.mensaje)}}var A=class i{constructor(e,t){this.svc=e;this.router=t}model={nombre:""};mensaje="";onSubmit(){this.svc.crear(this.model).subscribe({next:()=>this.router.navigate(["../"]),error:e=>this.mensaje="Error creando materia"})}static \u0275fac=function(t){return new(t||i)(p(c),p(w))};static \u0275cmp=M({type:i,selectors:[["app-crear-materia"]],standalone:!1,decls:10,vars:3,consts:[["f","ngForm"],[3,"ngSubmit"],["name","nombre","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],[4,"ngIf"]],template:function(t,n){if(t&1){let s=h();r(0,"h2"),o(1,"Crear Materia"),a(),r(2,"form",1,0),S("ngSubmit",function(){return u(s),f(n.onSubmit())}),r(4,"label"),o(5,"Nombre "),r(6,"input",2),E("ngModelChange",function(d){return u(s),x(n.model.nombre,d)||(n.model.nombre=d),f(d)}),a()(),r(7,"button",3),o(8,"Guardar"),a()(),g(9,me,2,1,"p",4)}if(t&2){let s=y(3);m(6),I("ngModel",n.model.nombre),m(),l("disabled",s.invalid),m(2),l("ngIf",n.mensaje)}},dependencies:[j,D,F,R,V,T,L,O],encapsulation:2})};function se(i,e){if(i&1&&(r(0,"p"),o(1),a()),i&2){let t=_();m(),N(t.mensaje)}}var P=class i{constructor(e,t,n){this.svc=e;this.route=t;this.router=n}model={id:0,nombre:""};mensaje="";ngOnInit(){let e=Number(this.route.snapshot.paramMap.get("id"));this.svc.obtener(e).subscribe({next:t=>this.model=t,error:t=>this.mensaje="No se encontr\xF3 la materia"})}onSubmit(){this.svc.actualizar(this.model).subscribe({next:()=>this.router.navigate(["../"]),error:e=>this.mensaje="Error actualizando materia"})}static \u0275fac=function(t){return new(t||i)(p(c),p(X),p(w))};static \u0275cmp=M({type:i,selectors:[["app-editar-materia"]],standalone:!1,decls:10,vars:3,consts:[["f","ngForm"],[3,"ngSubmit"],["name","nombre","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],[4,"ngIf"]],template:function(t,n){if(t&1){let s=h();r(0,"h2"),o(1,"Editar Materia"),a(),r(2,"form",1,0),S("ngSubmit",function(){return u(s),f(n.onSubmit())}),r(4,"label"),o(5,"Nombre "),r(6,"input",2),E("ngModelChange",function(d){return u(s),x(n.model.nombre,d)||(n.model.nombre=d),f(d)}),a()(),r(7,"button",3),o(8,"Actualizar"),a()(),g(9,se,2,1,"p",4)}if(t&2){let s=y(3);m(6),I("ngModel",n.model.nombre),m(),l("disabled",s.invalid),m(2),l("ngIf",n.mensaje)}},dependencies:[j,D,F,R,V,T,L,O],encapsulation:2})};var pe=[{path:"",component:k},{path:"crear",component:A},{path:"editar/:id",component:P}],W=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=C({type:i});static \u0275inj=v({imports:[z.forChild(pe),z]})};var re=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=C({type:i});static \u0275inj=v({imports:[Q,Z,W]})};export{re as a};
